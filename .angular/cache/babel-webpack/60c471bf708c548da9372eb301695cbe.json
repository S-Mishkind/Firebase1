{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/mishk/OneDrive/Desktop/ActiveDevProjects/AngUnivFirebase/angular-univ-firebase/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport 'firebase/firestore';\nimport { COURSES, findLessonsForCourse } from './db-data';\nlet AboutComponent = class AboutComponent {\n  constructor(db) {\n    this.db = db;\n  }\n\n  uploadData() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const coursesCollection = _this.db.collection('courses');\n\n      const courses = yield _this.db.collection('courses').get();\n\n      for (let course of Object.values(COURSES)) {\n        const newCourse = _this.removeId(course);\n\n        const courseRef = yield coursesCollection.add(newCourse);\n        const lessons = yield courseRef.collection('lessons');\n        const courseLessons = findLessonsForCourse(course['id']);\n        console.log(`Uploading course ${course['description']}`);\n\n        for (const lesson of courseLessons) {\n          const newLesson = _this.removeId(lesson);\n\n          delete newLesson.courseId;\n          yield lessons.add(newLesson);\n        }\n      }\n    })();\n  }\n\n  removeId(data) {\n    const newData = Object.assign({}, data);\n    delete newData.id;\n    return newData;\n  }\n\n};\nAboutComponent = __decorate([Component({\n  selector: 'about',\n  templateUrl: './about.component.html',\n  styleUrls: ['./about.component.css']\n})], AboutComponent);\nexport { AboutComponent };","map":{"version":3,"sources":["C:/Users/mishk/OneDrive/Desktop/ActiveDevProjects/AngUnivFirebase/angular-univ-firebase/src/app/about/about.component.ts"],"names":["__decorate","Component","COURSES","findLessonsForCourse","AboutComponent","constructor","db","uploadData","coursesCollection","collection","courses","get","course","Object","values","newCourse","removeId","courseRef","add","lessons","courseLessons","console","log","lesson","newLesson","courseId","data","newData","assign","id","selector","templateUrl","styleUrls"],"mappings":";AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,OAAO,oBAAP;AACA,SAASC,OAAT,EAAkBC,oBAAlB,QAA8C,WAA9C;AACA,IAAIC,cAAc,GAAG,MAAMA,cAAN,CAAqB;AACtCC,EAAAA,WAAW,CAACC,EAAD,EAAK;AACZ,SAAKA,EAAL,GAAUA,EAAV;AACH;;AACKC,EAAAA,UAAU,GAAG;AAAA;;AAAA;AACf,YAAMC,iBAAiB,GAAG,KAAI,CAACF,EAAL,CAAQG,UAAR,CAAmB,SAAnB,CAA1B;;AACA,YAAMC,OAAO,SAAS,KAAI,CAACJ,EAAL,CAAQG,UAAR,CAAmB,SAAnB,EAA8BE,GAA9B,EAAtB;;AACA,WAAK,IAAIC,MAAT,IAAmBC,MAAM,CAACC,MAAP,CAAcZ,OAAd,CAAnB,EAA2C;AACvC,cAAMa,SAAS,GAAG,KAAI,CAACC,QAAL,CAAcJ,MAAd,CAAlB;;AACA,cAAMK,SAAS,SAAST,iBAAiB,CAACU,GAAlB,CAAsBH,SAAtB,CAAxB;AACA,cAAMI,OAAO,SAASF,SAAS,CAACR,UAAV,CAAqB,SAArB,CAAtB;AACA,cAAMW,aAAa,GAAGjB,oBAAoB,CAACS,MAAM,CAAC,IAAD,CAAP,CAA1C;AACAS,QAAAA,OAAO,CAACC,GAAR,CAAa,oBAAmBV,MAAM,CAAC,aAAD,CAAgB,EAAtD;;AACA,aAAK,MAAMW,MAAX,IAAqBH,aAArB,EAAoC;AAChC,gBAAMI,SAAS,GAAG,KAAI,CAACR,QAAL,CAAcO,MAAd,CAAlB;;AACA,iBAAOC,SAAS,CAACC,QAAjB;AACA,gBAAMN,OAAO,CAACD,GAAR,CAAYM,SAAZ,CAAN;AACH;AACJ;AAdc;AAelB;;AACDR,EAAAA,QAAQ,CAACU,IAAD,EAAO;AACX,UAAMC,OAAO,GAAGd,MAAM,CAACe,MAAP,CAAc,EAAd,EAAkBF,IAAlB,CAAhB;AACA,WAAOC,OAAO,CAACE,EAAf;AACA,WAAOF,OAAP;AACH;;AAxBqC,CAA1C;AA0BAvB,cAAc,GAAGJ,UAAU,CAAC,CACxBC,SAAS,CAAC;AACN6B,EAAAA,QAAQ,EAAE,OADJ;AAENC,EAAAA,WAAW,EAAE,wBAFP;AAGNC,EAAAA,SAAS,EAAE,CAAC,uBAAD;AAHL,CAAD,CADe,CAAD,EAMxB5B,cANwB,CAA3B;AAOA,SAASA,cAAT","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nimport 'firebase/firestore';\r\nimport { COURSES, findLessonsForCourse } from './db-data';\r\nlet AboutComponent = class AboutComponent {\r\n    constructor(db) {\r\n        this.db = db;\r\n    }\r\n    async uploadData() {\r\n        const coursesCollection = this.db.collection('courses');\r\n        const courses = await this.db.collection('courses').get();\r\n        for (let course of Object.values(COURSES)) {\r\n            const newCourse = this.removeId(course);\r\n            const courseRef = await coursesCollection.add(newCourse);\r\n            const lessons = await courseRef.collection('lessons');\r\n            const courseLessons = findLessonsForCourse(course['id']);\r\n            console.log(`Uploading course ${course['description']}`);\r\n            for (const lesson of courseLessons) {\r\n                const newLesson = this.removeId(lesson);\r\n                delete newLesson.courseId;\r\n                await lessons.add(newLesson);\r\n            }\r\n        }\r\n    }\r\n    removeId(data) {\r\n        const newData = Object.assign({}, data);\r\n        delete newData.id;\r\n        return newData;\r\n    }\r\n};\r\nAboutComponent = __decorate([\r\n    Component({\r\n        selector: 'about',\r\n        templateUrl: './about.component.html',\r\n        styleUrls: ['./about.component.css']\r\n    })\r\n], AboutComponent);\r\nexport { AboutComponent };\r\n"]},"metadata":{},"sourceType":"module"}